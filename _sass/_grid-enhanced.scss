// Enhanced Grid System for better visual layout and spacing

// Core grid container
.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 2rem;
  
  &--no-gap {
    gap: 0;
  }
  
  &--small-gap {
    gap: 1rem;
  }
  
  &--large-gap {
    gap: 3rem;
  }
  
  // Grid column span variants
  @for $i from 1 through 12 {
    &__col-#{$i} {
      grid-column: span $i;
      
      @media (max-width: $breakpoint-md) {
        grid-column: span min($i, 6);
      }
      
      @media (max-width: $breakpoint-sm) {
        grid-column: span 12;
      }
    }
  }
  
  // Auto responsive layout
  &--auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
  
  &--auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
  
  // Grid with sidebar
  &--with-sidebar {
    grid-template-columns: 3fr 1fr;
    
    @media (max-width: $breakpoint-md) {
      grid-template-columns: 1fr;
    }
  }
  
  // Grid with large feature
  &--feature {
    grid-template-columns: 2fr 1fr;
    
    @media (max-width: $breakpoint-md) {
      grid-template-columns: 1fr;
    }
  }
  
  // Grid areas
  &--areas {
    grid-template-areas:
      "header header header"
      "main main sidebar"
      "footer footer footer";
      
    @media (max-width: $breakpoint-md) {
      grid-template-areas:
        "header"
        "main"
        "sidebar"
        "footer";
    }
  }
}

// Card grid for better visual organization
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  width: 100%;
  
  @media (max-width: $breakpoint-md) {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
  
  @media (max-width: $breakpoint-sm) {
    grid-template-columns: 1fr;
  }
  
  // Card grid variants
  &--small {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
  
  &--large {
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  }
  
  &--masonry {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    grid-auto-rows: 10px;
    grid-auto-flow: dense;
    
    > * {
      grid-row: span 30; // Default row span
    }
  }
}

// Advanced feature grid with overlapping elements
.feature-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 100px);
  gap: 1.5rem;
  position: relative;
  
  &__main {
    grid-column: 1 / span 3;
    grid-row: 1 / span 4;
  }
  
  &__secondary {
    grid-column: 4 / span 3;
    grid-row: 2 / span 4;
  }
  
  &__accent {
    grid-column: 2 / span 2;
    grid-row: 5 / span 2;
  }
  
  @media (max-width: $breakpoint-md) {
    grid-template-rows: auto;
    gap: 1rem;
    
    &__main, &__secondary, &__accent {
      grid-column: 1 / -1;
      grid-row: auto;
    }
  }
}

// Content flow sections with better rhythm
.content-flow {
  display: grid;
  grid-template-columns: 1fr;
  gap: 3rem;
  
  // Feature sections
  &__feature {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: center;
    
    &:nth-child(even) {
      direction: rtl;
      
      > * {
        direction: ltr;
      }
    }
    
    @media (max-width: $breakpoint-md) {
      grid-template-columns: 1fr;
      direction: ltr;
    }
  }
  
  // Card sections
  &__cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
  }
  
  // Text columns
  &__columns {
    column-count: 2;
    column-gap: 2rem;
    
    @media (max-width: $breakpoint-md) {
      column-count: 1;
    }
    
    > * {
      break-inside: avoid;
      margin-bottom: 1rem;
    }
  }
}

// Hero grid layouts
.hero-grid {
  display: grid;
  height: 90vh;
  min-height: 600px;
  
  // Split hero
  &--split {
    grid-template-columns: 1fr 1fr;
    
    @media (max-width: $breakpoint-md) {
      grid-template-columns: 1fr;
      grid-template-rows: 1fr 1fr;
    }
  }
  
  // Centered hero
  &--centered {
    grid-template-columns: 1fr;
    place-items: center;
  }
  
  // Hero with overlapping elements
  &--overlap {
    grid-template-columns: 1.2fr 0.8fr;
    grid-template-rows: 1fr 1fr;
    
    &__main {
      grid-column: 1 / span 1;
      grid-row: 1 / span 2;
      z-index: 1;
    }
    
    &__visual {
      grid-column: 2 / span 1;
      grid-row: 1 / span 2;
      z-index: 0;
      position: relative;
      overflow: hidden;
      
      img, svg {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }
    
    @media (max-width: $breakpoint-md) {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto;
      
      &__main, &__visual {
        grid-column: 1;
        grid-row: auto;
      }
    }
  }
}